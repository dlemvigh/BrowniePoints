(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(e,t,n){e.exports={container:"ActionForm_container__rz1Ju",score:"ActionForm_score__1WD9-",name:"ActionForm_name__UI53y",chevron:"ActionForm_chevron__2r7Qb",trash:"ActionForm_trash__2Swbt",hide:"ActionForm_hide__oC-q9"}},,function(e,t,n){e.exports={container:"User_container__KK98r",user:"User_user__1hq8n",score:"User_score__ZLVkP",content:"User_content__2iBHi"}},,,,,,,,,function(e,t,n){e.exports={noSelected:"ActionContainer_noSelected__2oQsD",hasSelected:"ActionContainer_hasSelected__lL8xm"}},function(e,t,n){e.exports={main:"App_main__wAwqn",aside:"App_aside__1Innq"}},,,function(e,t,n){e.exports={action:"Action_action__2bTWH"}},function(e,t,n){e.exports={tally:"Tally_tally__52u64",negative:"Tally_negative__1518a"}},function(e,t,n){e.exports=n(33)},,,,,function(e,t,n){},,,,,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(15),r=n.n(c),i=(n(23),n(2)),s=n(7),l=n(8),u=n(10),m=n(9),d=n(11),f=n(16),h=n.n(f),v=function(e){var t=e.name,n=e.score,a=e.onAddScore;return o.a.createElement("button",{type:"button",onClick:function(){return a(n,t)},className:"btn ".concat(n>=0?"btn-success":"btn-danger"," ").concat(h.a.action)},n>0&&"+",n," ",t)},g=n(12),S=n.n(g),E=n(6),p=n(4),b=n(5);function _(){return Math.random().toString(36).substr(2)}var y=n(1),A=n.n(y),O=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e,t){var a=Object(p.a)(n.state.actions);a[e]=t,n.setState({actions:a})},n.handleMoveUp=function(e){n.swap(e,e-1)},n.handleMoveDown=function(e){n.swap(e,e+1)},n.handleDelete=function(e){var t=n.state.actions.filter(function(t,n){return e!==n});n.setState({actions:t})},n.handleAdd=function(){var e=Object(p.a)(n.state.actions).concat([{id:_(),score:"0",name:""}]);n.setState({actions:e})},n.handleSubmit=function(e){var t=n.state.actions.map(function(e){return{id:e.id,score:Number(e.score),name:e.name}});n.props.onSaveActions(t),n.props.onStopEditing()},n.swap=function(e,t){var a=Object(p.a)(n.state.actions),o=a[e],c=a[t];a[e]=c,a[t]=o,n.setState({actions:a})},n.state={actions:Object(p.a)(e.actions)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:A.a.container},o.a.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0},o.a.createElement("h2",null,"Aktiviteter"),this.state.actions.map(function(t,n){return o.a.createElement(N,{key:t.id,index:n,action:t,first:0===n,last:e.state.actions.length===n+1,onChange:e.handleChange,onMoveUp:function(){return e.handleMoveUp(n)},onMoveDown:function(){return e.handleMoveDown(n)},onDelete:function(){return e.handleDelete(n)}})}),o.a.createElement("button",{className:"btn btn-link",type:"button",onClick:this.handleAdd},o.a.createElement(b.c,null),"tilf\xf8j"),o.a.createElement("br",null),o.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Gem"),o.a.createElement("button",{className:"btn btn-link",type:"button",onClick:this.props.onStopEditing},"annull\xe9r")))}}]),t}(o.a.Component),N=function(e){return o.a.createElement("div",{className:"form-row"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{id:"score[".concat(e.index,"]"),name:"score",type:"number",className:"form-control form-control-sm ".concat(A.a.score," ").concat(j(e.action.score)||"is-invalid"),onChange:function(t){return k(t,e)},value:e.action.score,required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{id:"name[".concat(e.index,"]"),name:"name",type:"text",className:"form-control form-control-sm ".concat(A.a.name," ").concat(w(e.action.name)||"is-invalid"),value:e.action.name,onChange:function(t){return k(t,e)},required:!0})),o.a.createElement("div",{className:A.a.chevron},o.a.createElement(b.b,{className:e.first&&A.a.hide,onClick:e.onMoveUp}),o.a.createElement(b.a,{className:e.last&&A.a.hide,onClick:e.onMoveDown})),o.a.createElement("div",{className:A.a.trash},o.a.createElement(b.d,{onClick:e.onDelete})))},k=function(e,t){var n=e.currentTarget;t.onChange(t.index,Object(i.a)({},t.action,Object(E.a)({},n.name,n.value)))},j=function(e){return e>0||e<0},w=function(e){return e&&e.trim().length>0},C=O,x=function(e){e.onStartEditing;return o.a.createElement("div",null,"V\xe6lg en eller flere personer, for at tildele point")},D=function(e){var t=e.actions,n=e.hasSelected,a=e.onAddScore,c=e.editing,r=e.onStartEditing,i=e.onStopEditing,s=e.onSaveActions;return o.a.createElement(o.a.Fragment,null,c?o.a.createElement(C,{actions:t,onSaveActions:s,onStopEditing:i}):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:n?S.a.hasSelected:S.a.noSelected},n?t.map(function(e){return o.a.createElement(v,Object.assign({key:e.name},e,{onAddScore:a}))}):o.a.createElement(x,{onStartEditing:r})),o.a.createElement("button",{className:"btn btn-link",onClick:r},"Rediger aktiviteter")))},F=function(e){var t=e.score;return o.a.createElement(o.a.Fragment,null,t>0&&"+",t)},M=n(17),I=n.n(M),J=function(e){var t=e.count;return o.a.createElement("ul",{className:I.a.tally},Array.from({length:t},function(e,t){return o.a.createElement("li",{key:t})}))},U=function(e){var t=e.count,n=e.lineLength;return o.a.createElement(o.a.Fragment,null,Array.from({length:Math.ceil(t/n)},function(e,a){return o.a.createElement(J,{key:a,count:Math.min(n,t-n*a)})}))},q=n(3),T=n.n(q),L=function(e){var t=e.name,n=e.color,a=e.score,c=e.isSelected,r=e.onSelect;return o.a.createElement("div",{style:{borderColor:c&&n},className:T.a.container,onClick:function(){return r(t)}},o.a.createElement("h2",{className:T.a.user,style:{color:n}},t),o.a.createElement("h2",{className:T.a.score,style:{color:n}},o.a.createElement(F,{score:a})),o.a.createElement("div",{className:T.a.content},o.a.createElement(U,{count:a,lineLength:100})))},W=n(13),B=n.n(W),V=(n(31),[{id:_(),name:"Opvask",score:10},{id:_(),name:"L\xe6s bog",score:5},{id:_(),name:"Skrald",score:10},{id:_(),name:"Tivoli",score:-200}]),H={Tine:{score:0,color:"#F05D5E"},Anders:{score:0,color:"#1A964E"},Daniel:{score:0,color:"#85C7F2"}},K=function(e){function t(){var e;Object(s.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).handleAddScore=function(t,n){var a=Object(i.a)({},e.state.users),o=Object.keys(e.state.selected),c=JSON.parse(localStorage.getItem("log"))||{},r=new Date;o.forEach(function(o){if(e.state.selected[o]){var s=Object(i.a)({},a[o]);s.score+=t,a[o]=s;var l=c[o]||[];l.push({name:n,score:t,date:r}),c[o]=l}}),e.setState({users:a}),localStorage.setItem("users",JSON.stringify(a)),localStorage.setItem("log",JSON.stringify(c))},e.handleSaveActions=function(t){e.setState({actions:t}),localStorage.setItem("actions",JSON.stringify(t))},e.handleSelect=function(t){var n=Object(i.a)({},e.state.selected);n[t]=!n[t],e.setState({selected:n})},e.handleStartEditing=function(){e.setState({editing:!0})},e.handleStopEditing=function(){e.setState({editing:!1})};var n=JSON.parse(localStorage.getItem("actions")),a=JSON.parse(localStorage.getItem("users"));return e.state={actions:n||V,users:a||H,selected:{},editing:!1},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(Q,Object.assign({},this,this.state))}}]),t}(a.Component),Q=function(e){var t=Object.keys(e.users),n=t.some(function(t){return e.selected[t]});return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:B.a.main},t.map(function(t){return o.a.createElement(L,Object.assign({key:t,name:t},e.users[t],{isSelected:e.selected[t],onSelect:e.handleSelect}))})),o.a.createElement("div",{className:B.a.aside},o.a.createElement(D,{hasSelected:n,actions:e.actions,onAddScore:e.handleAddScore,editing:e.editing,onStartEditing:e.handleStartEditing,onSaveActions:e.handleSaveActions,onStopEditing:e.handleStopEditing})))},z=K;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[18,2,1]]]);
//# sourceMappingURL=main.a5e4dbb4.chunk.js.map